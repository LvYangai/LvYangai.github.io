<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第六章 递归 | Hello VuePress</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="Just playing around">
    <link rel="preload" href="/assets/css/0.styles.80b48331.css" as="style"><link rel="preload" href="/assets/js/app.b653f105.js" as="script"><link rel="preload" href="/assets/js/2.99d1a617.js" as="script"><link rel="preload" href="/assets/js/21.c3198162.js" as="script"><link rel="prefetch" href="/assets/js/10.800b72c9.js"><link rel="prefetch" href="/assets/js/11.57accf41.js"><link rel="prefetch" href="/assets/js/12.13fbcf8c.js"><link rel="prefetch" href="/assets/js/13.4d2d664d.js"><link rel="prefetch" href="/assets/js/14.910991c0.js"><link rel="prefetch" href="/assets/js/15.1313f354.js"><link rel="prefetch" href="/assets/js/16.6db479e6.js"><link rel="prefetch" href="/assets/js/17.2f448bc3.js"><link rel="prefetch" href="/assets/js/18.30dabd53.js"><link rel="prefetch" href="/assets/js/19.d2eaaaad.js"><link rel="prefetch" href="/assets/js/20.89b76482.js"><link rel="prefetch" href="/assets/js/22.f98eeba2.js"><link rel="prefetch" href="/assets/js/23.b9aba8a3.js"><link rel="prefetch" href="/assets/js/24.3e956e2a.js"><link rel="prefetch" href="/assets/js/25.b1b78e1c.js"><link rel="prefetch" href="/assets/js/26.cf1a8b48.js"><link rel="prefetch" href="/assets/js/27.d5bfcc65.js"><link rel="prefetch" href="/assets/js/28.953cb79b.js"><link rel="prefetch" href="/assets/js/29.8a492853.js"><link rel="prefetch" href="/assets/js/3.3388cb9e.js"><link rel="prefetch" href="/assets/js/30.b01648fa.js"><link rel="prefetch" href="/assets/js/31.4e91fc6c.js"><link rel="prefetch" href="/assets/js/32.4bbadcf2.js"><link rel="prefetch" href="/assets/js/33.d052232e.js"><link rel="prefetch" href="/assets/js/34.33e965c9.js"><link rel="prefetch" href="/assets/js/35.0ddaddcd.js"><link rel="prefetch" href="/assets/js/36.edb41847.js"><link rel="prefetch" href="/assets/js/37.8e9c2d1f.js"><link rel="prefetch" href="/assets/js/4.dc746784.js"><link rel="prefetch" href="/assets/js/5.d434ae10.js"><link rel="prefetch" href="/assets/js/6.7eb90bfc.js"><link rel="prefetch" href="/assets/js/7.041e9117.js"><link rel="prefetch" href="/assets/js/8.9ce2df1b.js"><link rel="prefetch" href="/assets/js/9.e3ac39ca.js">
    <link rel="stylesheet" href="/assets/css/0.styles.80b48331.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hello VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/pages/JavaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue学习" class="dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/Vue/入门.html" class="nav-link">
  Vue入门
</a></li><li class="dropdown-item"><!----> <a href="/pages/Vue/进阶.html" class="nav-link">
  Vue进阶
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JAVA学习" class="dropdown-title"><span class="title">JAVA</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/Vue/入门.html" class="nav-link">
  JAVA
</a></li><li class="dropdown-item"><!----> <a href="/pages/JAVA/JavaWeb/" class="nav-link">
  JAVAWeb
</a></li><li class="dropdown-item"><!----> <a href="/pages/JAVA/数据结构与算法/" class="nav-link">
  数据结构与算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MySQL学习" class="dropdown-title"><span class="title">MySQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/MySQL/" class="nav-link">
  MySQL
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/pages/JavaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue学习" class="dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/Vue/入门.html" class="nav-link">
  Vue入门
</a></li><li class="dropdown-item"><!----> <a href="/pages/Vue/进阶.html" class="nav-link">
  Vue进阶
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JAVA学习" class="dropdown-title"><span class="title">JAVA</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/Vue/入门.html" class="nav-link">
  JAVA
</a></li><li class="dropdown-item"><!----> <a href="/pages/JAVA/JavaWeb/" class="nav-link">
  JAVAWeb
</a></li><li class="dropdown-item"><!----> <a href="/pages/JAVA/数据结构与算法/" class="nav-link">
  数据结构与算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MySQL学习" class="dropdown-title"><span class="title">MySQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/MySQL/" class="nav-link">
  MySQL
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/pages/JavaScript/" class="sidebar-heading clickable"><span>JavaScript</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/JavaScript/day10.html" class="sidebar-link">对象&amp;函数</a></li><li><a href="/pages/JavaScript/day11.html" class="sidebar-link">知道</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/pages/Vue/" class="sidebar-heading clickable"><span>Vue学习</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/Vue/入门.html" class="sidebar-link">Vue入门</a></li><li><a href="/pages/Vue/进阶.html" class="sidebar-link">Vue进阶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/pages/JAVA/JavaWeb/" class="sidebar-heading clickable"><span>JavaWeb</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/JAVA/JavaWeb/Servlet&amp;Request&amp;案例.html" class="sidebar-link">Servlet&amp;Request</a></li><li><a href="/pages/JAVA/JavaWeb/Response.html" class="sidebar-link">Response</a></li><li><a href="/pages/JAVA/JavaWeb/Cookie&amp;Session笔记.html" class="sidebar-link">Cookie&amp;Session</a></li><li><a href="/pages/JAVA/JavaWeb/EL&amp;JSTL笔记.html" class="sidebar-link">EL&amp;STL</a></li><li><a href="/pages/JAVA/JavaWeb/Filter&amp;Listener笔记.html" class="sidebar-link">Filter&amp;Listener</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/pages/JAVA/数据结构与算法/" class="sidebar-heading clickable open"><span>数据结构与算法</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/JAVA/数据结构与算法/第一章.html" class="sidebar-link">一、内容介绍</a></li><li><a href="/pages/JAVA/数据结构与算法/第二章.html" class="sidebar-link">二、数据结构和算法关系</a></li><li><a href="/pages/JAVA/数据结构与算法/第三章.html" class="sidebar-link">三、稀疏数组和队列</a></li><li><a href="/pages/JAVA/数据结构与算法/第四章.html" class="sidebar-link">四、链表</a></li><li><a href="/pages/JAVA/数据结构与算法/第五章.html" class="sidebar-link">五、栈</a></li><li><a href="/pages/JAVA/数据结构与算法/第六章.html" class="active sidebar-link">六、递归</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/JAVA/数据结构与算法/第六章.html#_6-1-递归应用场景" class="sidebar-link">6.1 递归应用场景</a></li><li class="sidebar-sub-header"><a href="/pages/JAVA/数据结构与算法/第六章.html#_6-2-递归的概念" class="sidebar-link">6.2 递归的概念</a></li><li class="sidebar-sub-header"><a href="/pages/JAVA/数据结构与算法/第六章.html#_6-3-递归调用机制" class="sidebar-link">6.3 递归调用机制</a></li><li class="sidebar-sub-header"><a href="/pages/JAVA/数据结构与算法/第六章.html#_6-4-递归能解决什么样的问题" class="sidebar-link">6.4 递归能解决什么样的问题</a></li><li class="sidebar-sub-header"><a href="/pages/JAVA/数据结构与算法/第六章.html#_6-5-递归需要遵守的重要规则" class="sidebar-link">6.5 递归需要遵守的重要规则</a></li><li class="sidebar-sub-header"><a href="/pages/JAVA/数据结构与算法/第六章.html#_6-递归-迷宫问题" class="sidebar-link">6. 递归-迷宫问题</a></li><li class="sidebar-sub-header"><a href="/pages/JAVA/数据结构与算法/第六章.html#_6-7递归-八皇后问题-回溯算法" class="sidebar-link">6.7递归-八皇后问题(回溯算法)</a></li><li class="sidebar-sub-header"><a href="/pages/JAVA/数据结构与算法/第六章.html#_6-7-2八皇后问题算法思路分析" class="sidebar-link">6.7.2八皇后问题算法思路分析</a></li></ul></li><li><a href="/pages/JAVA/数据结构与算法/第七章.html" class="sidebar-link">七、排序</a></li><li><a href="/pages/JAVA/数据结构与算法/第八章.html" class="sidebar-link">八、查找</a></li><li><a href="/pages/JAVA/数据结构与算法/第九章.html" class="sidebar-link">九、哈希表</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/pages/MySQL/" class="sidebar-heading clickable"><span>MySQL</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/MySQL/day01.html" class="sidebar-link">MySQL基本命令</a></li><li><a href="/pages/MySQL/day02.html" class="sidebar-link">MySQL入门</a></li><li><a href="/pages/MySQL/day03.html" class="sidebar-link">MySQL基础</a></li><li><a href="/pages/MySQL/day04.html" class="sidebar-link">MySQL进阶</a></li><li><a href="/pages/MySQL/lesson.html" class="sidebar-link">练习题34道</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第六章-递归"><a href="#第六章-递归" class="header-anchor">#</a> 第六章 递归</h1> <h2 id="_6-1-递归应用场景"><a href="#_6-1-递归应用场景" class="header-anchor">#</a> 6.1 递归应用场景</h2> <blockquote><p>看个实际应用场景，迷宫问题(回溯)， 递归(Recursion)
<img src="/java/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AC%AC%E5%85%AD%E7%AB%A0_files/1.jpg" alt="递归迷宫"></p></blockquote> <h2 id="_6-2-递归的概念"><a href="#_6-2-递归的概念" class="header-anchor">#</a> 6.2 递归的概念</h2> <div class="language- extra-class"><pre><code>   简单的说: 递归就是方法自己调用自己,每次调用时传入不同的变量.递归有助于编程者解决复杂的问题,同时
可以让代码变得简洁。
</code></pre></div><h2 id="_6-3-递归调用机制"><a href="#_6-3-递归调用机制" class="header-anchor">#</a> 6.3 递归调用机制</h2> <div class="language- extra-class"><pre><code>我列举两个小案例,来帮助大家理解递归，部分学员已经学习过递归了，这里在给大家回顾一下递归调用机制
1) 打印问题
2) 阶乘问题
3) 使用图解方式说明了递归的调用机制
</code></pre></div><p><img src="/java/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AC%AC%E5%85%AD%E7%AB%A0_files/2.jpg" alt="递归">
4）代码演示</p> <div class="language- extra-class"><pre><code>package com.lyg.six;

/**
 * @program: DataStructure
 * @description: 递归基本概念
 * @author: LvYangai
 * @create: 2020-07-01 14:26
 * @e-mail: 1076977275@qq.com
 **/
public class RecursionTest {
    public static void main(String[] args) {

       test(4);
       int res = factorial(3);
        System.out.println(&quot;res:&quot;+res);
    }

    private static int factorial(int n) {
        if (n == 1){
            return 1;
        }else {
            return factorial(n-1) * n;
        }
    }

    public static void test(int n){
        if (n &gt; 2){
            test(n - 1);
        }
        System.out.println(&quot;n=&quot; + n);
    }

}
</code></pre></div><h2 id="_6-4-递归能解决什么样的问题"><a href="#_6-4-递归能解决什么样的问题" class="header-anchor">#</a> 6.4 递归能解决什么样的问题</h2> <blockquote><p>递归用于解决什么样的问题</p></blockquote> <div class="language- extra-class"><pre><code>1)各种数学问题如: 8 皇后问题 , 汉诺塔, 阶乘问题, 迷宫问题, 球和篮子的问题(gogle 编程大赛)
2)各种算法中也会使用到递归，比如快排，归并排序，二分查找，分治算法等.
3)将用栈解决的问题--&gt;第归代码比较简洁
</code></pre></div><h2 id="_6-5-递归需要遵守的重要规则"><a href="#_6-5-递归需要遵守的重要规则" class="header-anchor">#</a> 6.5 递归需要遵守的重要规则</h2> <blockquote><p>递归需要遵守的重要规则</p></blockquote> <div class="language- extra-class"><pre><code>1) 执行一个方法时，就创建一个新的受保护的独立空间(栈空间)
2) 方法的局部变量是独立的，不会相互影响, 比如 n 变量
3) 如果方法中使用的是引用类型变量(比如数组)，就会共享该引用类型的数据. 4) 递归必须向退出递归的条件逼近，否则就是无限递归,出现 StackOverflowEr
3) 如果方法中使用的是引用类型变量(比如数组)，就会共享该引用类型的数据. 4) 递归必须向退出递归的条件逼近，否则就是无限递归,出现 StackOverflowEro，死龟了:)
5) 当一个方法执行完毕，或者遇到 return，就会返回，遵守谁调用，就将结果返回给谁，同时当方法执行完毕或
   者返回时，该方法也就执行完毕
</code></pre></div><h2 id="_6-递归-迷宫问题"><a href="#_6-递归-迷宫问题" class="header-anchor">#</a> 6. 递归-迷宫问题</h2> <h3 id="_6-6-1迷宫问题"><a href="#_6-6-1迷宫问题" class="header-anchor">#</a> 6.6.1迷宫问题</h3> <p><img src="/java/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AC%AC%E5%85%AD%E7%AB%A0_files/3.jpg" alt="迷宫图解"></p> <h3 id="_6-2代码实现"><a href="#_6-2代码实现" class="header-anchor">#</a> 6.2代码实现:</h3> <div class="language- extra-class"><pre><code>package com.atguigu.recursion;

public class MiGong {

	public static void main(String[] args) {
		// 先创建一个二维数组，模拟迷宫
		// 地图
		int[][] map = new int[8][7];
		// 使用1 表示墙
		// 上下全部置为1
		for (int i = 0; i &lt; 7; i++) {
			map[0][i] = 1;
			map[7][i] = 1;
		}

		// 左右全部置为1
		for (int i = 0; i &lt; 8; i++) {
			map[i][0] = 1;
			map[i][6] = 1;
		}
		//设置挡板, 1 表示
		map[3][1] = 1;
		map[3][2] = 1;
//		map[1][2] = 1;
//		map[2][2] = 1;
		
		// 输出地图
		System.out.println(&quot;地图的情况&quot;);
		for (int i = 0; i &lt; 8; i++) {
			for (int j = 0; j &lt; 7; j++) {
				System.out.print(map[i][j] + &quot; &quot;);
			}
			System.out.println();
		}
		
		//使用递归回溯给小球找路
		//setWay(map, 1, 1);
		setWay2(map, 1, 1);
		
		//输出新的地图, 小球走过，并标识过的递归
		System.out.println(&quot;小球走过，并标识过的 地图的情况&quot;);
		for (int i = 0; i &lt; 8; i++) {
			for (int j = 0; j &lt; 7; j++) {
				System.out.print(map[i][j] + &quot; &quot;);
			}
			System.out.println();
		}
		
	}
	
	//使用递归回溯来给小球找路
	//说明
	//1. map 表示地图
	//2. i,j 表示从地图的哪个位置开始出发 (1,1)
	//3. 如果小球能到 map[6][5] 位置，则说明通路找到.
	//4. 约定： 当map[i][j] 为 0 表示该点没有走过 当为 1 表示墙  ； 2 表示通路可以走 ； 3 表示该点已经走过，但是走不通
	//5. 在走迷宫时，需要确定一个策略(方法) 下-&gt;右-&gt;上-&gt;左 , 如果该点走不通，再回溯
	/**
	 * 
	 * @param map 表示地图
	 * @param i 从哪个位置开始找
	 * @param j 
	 * @return 如果找到通路，就返回true, 否则返回false
	 */
	public static boolean setWay(int[][] map, int i, int j) {
		if(map[6][5] == 2) { // 通路已经找到ok
			return true;
		} else {
			if(map[i][j] == 0) { //如果当前这个点还没有走过
				//按照策略 下-&gt;右-&gt;上-&gt;左  走
				map[i][j] = 2; // 假定该点是可以走通.
				if(setWay(map, i+1, j)) {//向下走
					return true;
				} else if (setWay(map, i, j+1)) { //向右走
					return true;
				} else if (setWay(map, i-1, j)) { //向上
					return true;
				} else if (setWay(map, i, j-1)){ // 向左走
					return true;
				} else {
					//说明该点是走不通，是死路
					map[i][j] = 3;
					return false;
				}
			} else { // 如果map[i][j] != 0 , 可能是 1， 2， 3
				return false;
			}
		}
	}
	
	//修改找路的策略，改成 上-&gt;右-&gt;下-&gt;左
	public static boolean setWay2(int[][] map, int i, int j) {
		if(map[6][5] == 2) { // 通路已经找到ok
			return true;
		} else {
			if(map[i][j] == 0) { //如果当前这个点还没有走过
				//按照策略 上-&gt;右-&gt;下-&gt;左
				map[i][j] = 2; // 假定该点是可以走通.
				if(setWay2(map, i-1, j)) {//向上走
					return true;
				} else if (setWay2(map, i, j+1)) { //向右走
					return true;
				} else if (setWay2(map, i+1, j)) { //向下
					return true;
				} else if (setWay2(map, i, j-1)){ // 向左走
					return true;
				} else {
					//说明该点是走不通，是死路
					map[i][j] = 3;
					return false;
				}
			} else { // 如果map[i][j] != 0 , 可能是 1， 2， 3
				return false;
			}
		}
	}

}
</code></pre></div><h3 id="_6-6-3对迷宫问题的讨论"><a href="#_6-6-3对迷宫问题的讨论" class="header-anchor">#</a> 6.6.3对迷宫问题的讨论</h3> <div class="language- extra-class"><pre><code>1) 小球得到的路径，和程序员设置的找路策略有关即：找路的上下左右的顺序相关
2) 再得到小球路径时，可以先使用(下右上左)，再改成(上右下左)，看路径是不是有变化
3) 测试回溯现象
4) 思考:如何求出最短路径?	思路-》代码实现.
</code></pre></div><h2 id="_6-7递归-八皇后问题-回溯算法"><a href="#_6-7递归-八皇后问题-回溯算法" class="header-anchor">#</a> 6.7递归-八皇后问题(回溯算法)</h2> <h3 id="_6-7-1八皇后问题介绍"><a href="#_6-7-1八皇后问题介绍" class="header-anchor">#</a> 6.7.1八皇后问题介绍</h3> <div class="language- extra-class"><pre><code>   八皇后问题，是一个古老而著名的问题，是回溯算法的典型案例。该问题是国际西洋棋棋手马克斯·贝瑟尔于 
1848年提出：在  8×8  格的国际象棋上摆放八个皇后，使其不能互相攻击，即：任意两个皇后都不能处于同一行、
同一列或同一斜线上，问有多少种摆法(92)。
</code></pre></div><p><img src="/java/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AC%AC%E5%85%AD%E7%AB%A0_files/4.jpg" alt="八皇后"></p> <h2 id="_6-7-2八皇后问题算法思路分析"><a href="#_6-7-2八皇后问题算法思路分析" class="header-anchor">#</a> 6.7.2八皇后问题算法思路分析</h2> <div class="language- extra-class"><pre><code>1)       第一个皇后先放第一行第一列 
2)       第二个皇后放在第二行第一列、然后判断是否  OK，   如果不  OK，继续放在第二列、第三列、依次把所有列都 放完，找到一个合适 
3)       继续第三个皇后，还是第一列、第二列……直到第  8  个皇后也能放在一个不冲突的位置，算是找到了一个正确 解 
4)       当得到一个正确解时，在栈回退到上一个栈时，就会开始回溯，即将第一个皇后，放到第一列的所有正确解，全部得到
5)       然后回头继续第一个皇后放第二列，后面继续循环执行   1,2,3,4  的步骤 
6)       示意图:
</code></pre></div><p><img src="/java/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AC%AC%E5%85%AD%E7%AB%A0_files/5.jpg" alt="八皇后图解"></p> <blockquote><p>说明：
理论上应该创建一个二维数组来表示棋盘，但是实际上可以通过算法，用一个一维数组即可解决问题. ar[8] =
{0 , 4 7, 5 2, 6 1, 3} /对应 ar 下标 表示第几行，即第几个皇后，ar[i] = val , val 表示第 i+1 个皇后，放在第 i+1
行的第 val+1 列</p></blockquote> <h3 id="_6-73八皇后问题算法代码实现"><a href="#_6-73八皇后问题算法代码实现" class="header-anchor">#</a> 6.73八皇后问题算法代码实现</h3> <blockquote><p>说明：看老师的代码演示</p></blockquote> <div class="language- extra-class"><pre><code>package com.lyg.six;

/**
 * @program: DataStructure
 * @description: 八皇后
 * @author: LvYangai
 * @create: 2020-07-02 12:50
 * @e-mail: 1076977275@qq.com
 **/
public class Queue8 {

    //定义一个max表示共有多少个皇后
    int max = 8;
    //定义数组array, 保存皇后放置位置的结果,比如 arr = {0 , 4, 7, 5, 2, 6, 1, 3}
    int[] array = new int[max];
    static int count = 0;
    static int judgeCount = 0;
    public static void main(String[] args) {
        //测试一把 ， 8皇后是否正确
        Queue8 queue8 = new Queue8();
        queue8.check(0);
        System.out.printf(&quot;一共有%d解法\n&quot;, count);
        System.out.printf(&quot;一共判断冲突的次数%d次&quot;, judgeCount); // 1.5w

    }


    //编写一个方法，放置第n个皇后
    //特别注意： check 是 每一次递归时，进入到check中都有  for(int i = 0; i &lt; max; i++)，因此会有回溯
    private void check(int n) {
        if(n == max) {  //n = 8 , 其实8个皇后就既然放好
            print();
            return;
        }

        //依次放入皇后，并判断是否冲突
        for(int i = 0; i &lt; max; i++) {
            //先把当前这个皇后 n , 放到该行的第1列
            array[n] = i;
            //判断当放置第n个皇后到i列时，是否冲突
            if(judge(n)) { // 不冲突
                //接着放n+1个皇后,即开始递归
                check(n+1); //
            }
            //如果冲突，就继续执行 array[n] = i; 即将第n个皇后，放置在本行得 后移的一个位置
        }
    }

    //查看当我们放置第n个皇后, 就去检测该皇后是否和前面已经摆放的皇后冲突
    /**
     *
     * @param n 表示第n个皇后
     * @return
     */
    private boolean judge(int n) {
        judgeCount++;
        for(int i = 0; i &lt; n; i++) {
            // 说明
            //1. array[i] == array[n]  表示判断 第n个皇后是否和前面的n-1个皇后在同一列
            //2. Math.abs(n-i) == Math.abs(array[n] - array[i]) 表示判断第n个皇后是否和第i皇后是否在同一斜线
            // n = 1  放置第 2列 1 n = 1 array[1] = 1
            // Math.abs(1-0) == 1  Math.abs(array[n] - array[i]) = Math.abs(1-0) = 1
            //3. 判断是否在同一行, 没有必要，n 每次都在递增
            if(array[i] == array[n] || Math.abs(n-i) == Math.abs(array[n] - array[i]) ) {
                return false;
            }
        }
        return true;
    }

    //写一个方法，可以将皇后摆放的位置输出
    private void print() {
        count++;
        for (int i = 0; i &lt; array.length; i++) {
            System.out.print(array[i] + &quot; &quot;);
        }
        System.out.println();
    }
}
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pages/JAVA/数据结构与算法/第五章.html" class="prev">
        五、栈
      </a></span> <span class="next"><a href="/pages/JAVA/数据结构与算法/第七章.html">
        七、排序
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b653f105.js" defer></script><script src="/assets/js/2.99d1a617.js" defer></script><script src="/assets/js/21.c3198162.js" defer></script>
  </body>
</html>
